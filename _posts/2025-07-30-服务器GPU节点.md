---
title: "服务器GPU节点介绍"
toc: true
toc_label: "文章目录"  # 自定义目录标题
toc_icon: "list-ul"   # 可选：使用Font Awesome图标
lang: zh-CN
categories:
  - Blog
tags:
  - 服务器
---

## 1. 概述

- Yang Group HFNL 服务器共有`1`个`GPU`计算节点，`64`核，`2 TB` 内存；

- `CPU`型号为`Intel(R) Xeon(R) Platinum 8358P`，主频`2600 MHz`；

- `GPU`型号为`A800`,`8`块`80 GB`计算卡，驱动版本`530.30.02`。

---

## 2. 队列设置

    | **队列名** | **时间限制** | **单用户运行限制作业数** | **单用户提交限制作业数** |
    | :----: | :----: | :----: | :----: |
    | `gpu`（默认队列） | `3`天 | `4` | `8`|

## 3. 使用方法

1. `sbatch`脚本提交任务，例如：

```bash
#!/bin/bash
#SBATCH -J test
#SBATCH -p short
#SBATCH -N 1
#SBATCH -n 128
#SBATCH -o %j.log
#SBATCH -e %j.err
echo "SLURM_JOB_PARTITION=$SLURM_JOB_PARTITION"
echo "SLURM_JOB_NODELIST=$SLURM_JOB_NODELIST"
echo Time is `date`
echo Directory is $PWD
echo This job runs on the following nodes:
echo $SLURM_JOB_NODELIST
echo This job has allocated $SLURM_JOB_CPUS_PER_NODE cpu cores.

module purge
#module load apps/vasp/oneapi/2024.1.0/6.3.0
#module load apps/vasp/amd/aocc_aocl/3.2.0/5.4.4
module load apps/vasp/amd/aocc_aocl/3.2.0/6.4.3_omp
#module load apps/vasp/intelmpi/5.4.4_IOPTCELL
srun hostname -s | sort -n >slurm.hosts

mpirun $MPIOPT -machinefile slurm.hosts vasp_std > runlog
```

2. `CUDA ToolKit`位于**`GPU`节点**目录`/usr/local/cuda-11.6`，`/usr/local/cuda-12.1`，`/usr/local/cuda-11.6`；
3. 作业加时联系管理员孟鑫勇。
